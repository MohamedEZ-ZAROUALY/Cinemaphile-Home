<main class="container-fluid px-lg-5">
  <header class="row">
    <div class="col-12">
      <div class="jumbotron text-light row">
        <h1 class="display-4 col-12 headliner"><b>Cinemaphile Home - by EZ-ZAROUALY Mohamed</b></h1>
        <p class="lead col-12">Follow with us the latest TV shows and movies !</p>
        <div class="col-12 col-xl-4 mb-2 d-flex flex-column flex-sm-row align-items-center">
          <button type="button" class="btn btn-light mr-2 mb-1" (click)="getTopMovies()"><a href="/home" > Top Movies </a></button>
          <button disabled="disabled" type="button" class="btn btn-light mr-2 mb-1"><a href="/favoris" > Favoris </a></button>
          <button type="button" class="btn btn-light mr-2 mb-1"><a href="/login" > Sign out </a></button>
        </div>
        
      </div>
    </div>
  </header>
  <div class="row mx-lg-n5" *ngIf="showMovies && !searchResults">
    <div class="col-12 col-sm-6 col-lg-4 d-flex py-3 px-m-5" *ngFor="let movie of top20Movies; index as i">
      <div class="card">
        <img *ngIf="movie.posterpath" src="{{movie.getBackdrop()}}" class="card-img-top" alt="{{movie.title}}" (click)="getDetails(movie.id, 'movie')">
        <img *ngIf="!movie.posterpath" src="../../assets/film-poster-placeholder.png" class="card-img-top" alt="{{movie.title}}" (click)="getDetails(result.id, 'movie')">
        <div class="card-body d-flex flex-column">
          <h6><b>{{movie.getYear()}}</b></h6>
          <h3 class="card-title"><b>#{{i+1}} {{movie.title}}</b></h3>
          <p class="card-text flex-grow-1">{{movie.shortOverview()}}</p>
          <button type="button" class="btn btn-dark align-self-end" (click)="getDetails(movie.id, 'movie')">Full
            Details</button>
        </div>
      </div>
    </div>
  </div>

  <div id="searchResults" class="row mx-lg-n5" *ngIf="searchResults">
    <div class="col-12 col-sm-6 col-lg-4 col-xl-3 d-flex py-3 px-m-5" *ngFor="let result of searchResults">
      <div class="card d-flex flex-column flex-grow-1" *ngIf="result.media_type == 'movie'">
        <h5 class="p-2 text-center"><b>Movie</b></h5>
        <img *ngIf="result.poster_path" src="https://image.tmdb.org/t/p/w500/{{result.poster_path}}" class="card-img-top" alt="{{result.title}}" (click)="getDetails(result.id, 'movie')">
        <img *ngIf="!result.poster_path" src="../../assets/film-poster-placeholder.png" class="card-img-top" alt="{{result.title}}" (click)="getDetails(result.id, 'movie')">
         <div class="card-body">
           <h3 class="card-title"><b>{{result.title}}</b></h3>
           <button type="button" class="btn btn-dark align-self-end" (click)="getDetails(result.id, 'movie')">Full
                Details</button>
        </div>
      </div>
     
    </div>
  </div>

</main>
